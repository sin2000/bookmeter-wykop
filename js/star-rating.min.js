function reset_star_rating() {
	$(".btnrating").removeClass("btn-warning");
	$(".btnrating").addClass("btn-default");

	$("#selected_rating").val("");
}

jQuery(document).ready(function ($) {

	$("#selected_rating").val("");

	$(".btnrating").on('click', (function () {

		var previous_value = $("#selected_rating").val();

		var selected_value = $(this).attr("data-attr");
		$("#selected_rating").val(selected_value);

		$(".selected-rating").empty();
		$(".selected-rating").html(selected_value);

		for (var i = 1; i <= selected_value; ++i) {
			$("#rating-star-" + i).toggleClass('btn-warning');
			$("#rating-star-" + i).toggleClass('btn-default');
		}

		for (var ix = 1; ix <= previous_value; ++ix) {
			$("#rating-star-" + ix).toggleClass('btn-warning');
			$("#rating-star-" + ix).toggleClass('btn-default');
		}

	}));
});